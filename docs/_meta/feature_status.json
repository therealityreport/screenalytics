{
  "schema_version": 2,
  "last_updated": "2025-12-16",
  "features": {
    "face_alignment": {
      "title": "Face Alignment",
      "status": "partial",
      "integrated_in_jobs": [
        "harvest"
      ],
      "integrated_in_autorun": true,
      "enabled_by_default": false,
      "how_to_enable": {
        "config_key": "config/pipeline/face_alignment.yaml:face_alignment.enabled",
        "ui_path": null,
        "cli_flag": "python -m FEATURES.face_alignment (legacy sandbox runner)"
      },
      "evidence_paths": [
        "tools/episode_run.py",
        "py_screenalytics/face_alignment/fan2d.py",
        "config/pipeline/face_alignment.yaml",
        "config/pipeline/embedding.yaml"
      ],
      "phases": {
        "A_FAN_2D": {
          "status": "implemented_production",
          "integrated_in_jobs": [
            "harvest"
          ],
          "integrated_in_autorun": true,
          "enabled_by_default": false,
          "how_to_enable": {
            "config_key": "config/pipeline/face_alignment.yaml:face_alignment.enabled",
            "ui_path": null,
            "cli_flag": "python -m FEATURES.face_alignment (legacy sandbox runner)"
          },
          "evidence_paths": [
            "py_screenalytics/face_alignment/fan2d.py",
            "tools/episode_run.py",
            "FEATURES/face_alignment/src/run_fan_alignment.py"
          ],
          "notes": "FAN 68-point alignment runs inside faces_embed when face_alignment.enabled=true. It writes runs/{run_id}/face_alignment/aligned_faces.jsonl and uses aligned crops for ArcFace embeddings. Requires optional dependency: face-alignment (pip install face-alignment)."
        },
        "B_LUVLi_quality_gate": {
          "status": "implemented_production",
          "integrated_in_jobs": [
            "harvest"
          ],
          "integrated_in_autorun": true,
          "enabled_by_default": false,
          "how_to_enable": {
            "config_key": "config/pipeline/face_alignment.yaml:face_alignment.quality_gate.enabled",
            "ui_path": null,
            "cli_flag": null
          },
          "evidence_paths": [
            "tools/episode_run.py",
            "py_screenalytics/face_alignment/fan2d.py",
            "config/pipeline/face_alignment.yaml"
          ],
          "notes": "MVP alignment-quality gate implemented in faces_embed using deterministic heuristics from FAN landmarks (NOT a LUVLi model). Supports drop/downweight via face_alignment.quality_gate.*."
        },
        "C_3DDFA_V2": {
          "status": "not_started",
          "integrated_in_jobs": [],
          "integrated_in_autorun": false,
          "enabled_by_default": false,
          "how_to_enable": {
            "config_key": null,
            "ui_path": null,
            "cli_flag": null
          },
          "evidence_paths": [],
          "notes": "Planned only."
        }
      },
      "docs": [
        "docs/plans/in_progress/feature_face_alignment_fan_luvli_3ddfa.md",
        "docs/features/vision_alignment_and_body_tracking.md"
      ]
    },
    "body_tracking": {
      "title": "Body Tracking",
      "status": "in_progress",
      "integrated_in_jobs": [],
      "integrated_in_autorun": false,
      "enabled_by_default": false,
      "how_to_enable": {
        "config_key": "config/pipeline/body_detection.yaml:body_tracking.enabled",
        "ui_path": null,
        "cli_flag": "python -m FEATURES.body_tracking"
      },
      "evidence_paths": [
        "FEATURES/body_tracking",
        "config/pipeline/body_detection.yaml",
        "config/pipeline/track_fusion.yaml"
      ],
      "phases": {
        "sandbox_runner": {
          "status": "implemented_sandbox",
          "integrated_in_jobs": [],
          "integrated_in_autorun": false,
          "enabled_by_default": false,
          "how_to_enable": {
            "config_key": null,
            "ui_path": null,
            "cli_flag": "python -m FEATURES.body_tracking"
          },
          "evidence_paths": [
            "FEATURES/body_tracking/src"
          ],
          "notes": "Sandbox pipeline exists; not enabled in production jobs or auto-run."
        },
        "pipeline_integration": {
          "status": "future",
          "integrated_in_jobs": [],
          "integrated_in_autorun": false,
          "enabled_by_default": false,
          "how_to_enable": {
            "config_key": null,
            "ui_path": null,
            "cli_flag": null
          },
          "evidence_paths": [],
          "notes": "Not integrated into production jobs or auto-run yet."
        }
      },
      "docs": [
        "docs/plans/in_progress/feature_body_tracking_reid_fusion.md",
        "docs/features/vision_alignment_and_body_tracking.md"
      ]
    },
    "arcface_tensorrt": {
      "title": "ArcFace TensorRT",
      "status": "scaffold_only",
      "integrated_in_jobs": [],
      "integrated_in_autorun": false,
      "enabled_by_default": false,
      "how_to_enable": {
        "config_key": "config/pipeline/embedding.yaml:embedding.backend=tensorrt (not production-ready)",
        "ui_path": null,
        "cli_flag": null
      },
      "evidence_paths": [
        "FEATURES/arcface_tensorrt"
      ],
      "phases": {
        "A_engine_building": {
          "status": "scaffold_only",
          "integrated_in_jobs": [],
          "integrated_in_autorun": false,
          "enabled_by_default": false,
          "how_to_enable": {
            "config_key": null,
            "ui_path": null,
            "cli_flag": null
          },
          "evidence_paths": [
            "FEATURES/arcface_tensorrt/src"
          ],
          "notes": "Scaffold only; not validated."
        },
        "B_inference_wrapper": {
          "status": "scaffold_only",
          "integrated_in_jobs": [],
          "integrated_in_autorun": false,
          "enabled_by_default": false,
          "how_to_enable": {
            "config_key": null,
            "ui_path": null,
            "cli_flag": null
          },
          "evidence_paths": [
            "FEATURES/arcface_tensorrt/src"
          ],
          "notes": "Scaffold only; not validated."
        },
        "C_comparison": {
          "status": "scaffold_only",
          "integrated_in_jobs": [],
          "integrated_in_autorun": false,
          "enabled_by_default": false,
          "how_to_enable": {
            "config_key": null,
            "ui_path": null,
            "cli_flag": null
          },
          "evidence_paths": [],
          "notes": "Planned evaluation."
        },
        "D_integration": {
          "status": "future",
          "integrated_in_jobs": [],
          "integrated_in_autorun": false,
          "enabled_by_default": false,
          "how_to_enable": {
            "config_key": null,
            "ui_path": null,
            "cli_flag": null
          },
          "evidence_paths": [],
          "notes": "Not integrated into production jobs or auto-run yet."
        }
      },
      "docs": [
        "docs/plans/in_progress/feature_arcface_tensorrt_onnxruntime.md",
        "docs/features/vision_alignment_and_body_tracking.md"
      ]
    },
    "vision_analytics": {
      "title": "Vision Analytics",
      "status": "not_started",
      "integrated_in_jobs": [],
      "integrated_in_autorun": false,
      "enabled_by_default": false,
      "how_to_enable": {
        "config_key": null,
        "ui_path": null,
        "cli_flag": null
      },
      "evidence_paths": [
        "FEATURES/vision_analytics"
      ],
      "phases": {
        "all": {
          "status": "not_started",
          "integrated_in_jobs": [],
          "integrated_in_autorun": false,
          "enabled_by_default": false,
          "how_to_enable": {
            "config_key": null,
            "ui_path": null,
            "cli_flag": null
          },
          "evidence_paths": [],
          "notes": "Docs/config only."
        }
      },
      "docs": ["docs/features/vision_alignment_and_body_tracking.md"]
    }
  }
}
