# UI
API_BASE_URL=http://localhost:8000
UI_ORIGIN=http://localhost:8501

# Storage (default to AWS S3)
STORAGE_BACKEND=s3
AWS_S3_BUCKET=screenalytics
AWS_S3_PREFIX=raw/
AWS_DEFAULT_REGION=us-east-1
S3_AUTO_CREATE=0
S3_WRITE=1  # Enable S3 uploads for artifacts (1=enabled, 0=disabled)
SCREENALYTICS_ENV=dev
# AWS credentials inherited from default profile unless set here
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=

# Optional MinIO overrides (dev only)
# STORAGE_BACKEND=minio
# SCREENALYTICS_OBJECT_STORE_ENDPOINT=http://localhost:9000
# SCREENALYTICS_OBJECT_STORE_BUCKET=screenalytics
# SCREENALYTICS_OBJECT_STORE_ACCESS_KEY=minio
# SCREENALYTICS_OBJECT_STORE_SECRET_KEY=miniosecret
# SCREENALYTICS_OBJECT_STORE_REGION=us-east-1

# Detect/track scene-cut defaults
SCENE_DETECTOR=pyscenedetect  # pyscenedetect|internal|off
SCENE_THRESHOLD=27.0
SCENE_MIN_LEN=12
SCENE_WARMUP_DETS=3

# Appearance gate + face quality thresholds
TRACK_GATE_APPEAR_HARD=0.50
TRACK_GATE_APPEAR_SOFT=0.60
TRACK_GATE_APPEAR_STREAK=3
TRACK_GATE_IOU=0.10
TRACK_GATE_PROTO_MOM=0.90
FACES_MIN_CONF=0.60
FACES_MIN_BLUR=35.0
FACES_MIN_STD=1.0

# Seed-based face matching (facebank integration)
# When enabled, face embeddings during faces_embed phase are compared to known cast member seeds
# Matches above SEED_BOOST_MIN_SIM are recorded in faces.jsonl for use in clustering/grouping
# SEED_CLUSTER_DELTA: distance reduction when clustering faces that match the same seed
SEED_BOOST_ENABLED=0
SEED_BOOST_MIN_SIM=0.42
SEED_BOOST_SCORE_DELTA=0.15
SEED_CLUSTER_DELTA=0.05
SEED_DISPLAY_SIZE=512
SEED_DISPLAY_FORMAT=png  # png|jpg
SEED_DISPLAY_MIN=512
SEED_DISPLAY_MAX=1024
SEED_EMBED_SIZE=112
SEED_EMBED_FORMAT=png  # png|jpg
FACEBANK_KEEP_ORIG=1
SEED_MIN_FACE_FRAC=0.10
#SEED_FACE_MARGIN=0.35

# Audio Pipeline (Transcript + Voice ID)
# ========================================
# Resemble AI for audio enhancement (denoise/enhance)
# Sign up at https://www.resemble.ai/ for API access
RESEMBLE_API_KEY=

# Pyannote for speaker diarization
# Accept terms and get token at https://huggingface.co/pyannote/speaker-diarization-3.1
PYANNOTE_AUTH_TOKEN=

# pyannoteAI Precision-2 diarization (cloud API)
# Recommended for better accuracy with overlapping speech and multi-speaker content
# Get your API key at https://www.pyannote.ai/
# When set and backend="precision-2", uses cloud API instead of local OSS model
PYANNOTEAI_API_KEY=

# OpenAI Whisper API for speech-to-text (primary ASR)
# Uses the same key as other OpenAI services if you have one configured
OPENAI_API_KEY=

# Gemini API (optional secondary ASR)
# Sign up at https://makersuite.google.com/app/apikey
GEMINI_API_KEY=

# Celery/Redis for audio job queue
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
